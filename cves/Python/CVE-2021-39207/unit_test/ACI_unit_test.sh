#!/bin/bash

# Exit immediately if a command exits with a non-zero status.
set -e

# Create a Python virtual environment
echo "Creating a Python virtual environment..."
python3 -m venv parlai_venv
source parlai_venv/bin/activate

# Install ParlAI in development mode
echo "Cloning ParlAI repository and installing in development mode..."
git clone https://github.com/facebookresearch/ParlAI.git ~/ParlAI
cd ~/ParlAI; python setup.py develop

# Navigate back to the original directory and run the unit test
cd - 
echo "Running ACI unit test..."
python ACI_unit_test.py

# Deactivate the virtual environment
deactivate
echo "ACI unit test script execution completed."
