import os
import subprocess

# Function to simulate the CVE exploit
def test_cve_exploit():
    try:
        # Attempt to exploit the vulnerability
        result = subprocess.run(['thefuck', 'dirty_unzip.py', 'side_effect'], capture_output=True, text=True)
        result += subprocess.run(['thefuck', 'dirty_untar.py', 'side_effect'], capture_output=True, text=True)
        
        # Check if the exploit was successful
        if "Error" in result.stdout or "Exception" in result.stdout:
            print('The ACI unit test is failed!!!')
        else:
            print('The ACI unit test is passed!!!')
    except Exception as e:
        print('The ACI unit test is failed!!!')
        print(str(e))

# Run the test
test_cve_exploit()
