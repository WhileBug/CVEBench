
diff --git a/ACI_unit_test.py b/ACI_unit_test.py
new file mode 100644
index 0000000000..b8f545d79a
--- /dev/null
+++ b/ACI_unit_test.py
@@ -0,0 +1,32 @@
+import unittest
+from zerver.lib.test_classes import ZulipTestCase
+from zerver.models import UserProfile, get_user_profile_by_id
+from django.contrib.auth.models import User
+from django.test import override_settings
+
+class TestClearSessions(ZulipTestCase):
+    def test_clear_sessions_race_condition(self):
+        # Create a user and log in
+        self.login('hamlet')
+        user_profile = self.example_user('hamlet')
+        user_id = user_profile.id
+
+        # Deactivate the user and simulate a race condition
+        # where the user accesses the system simultaneously
+        with override_settings(TEST_SUITE=False):
+            user_profile.is_active = False
+            user_profile.save(update_fields=['is_active'])
+
+            # Simulate the race condition by trying to fetch the user again
+            try:
+                user_profile_after_deactivation = get_user_profile_by_id(user_id)
+                if user_profile_after_deactivation.is_active:
+                    self.fail("User should not be active after deactivation")
+            except UserProfile.DoesNotExist:
+                pass
+
+        # If the test reaches this point without failing, it means the race condition is handled
+        print('The ACI unit test is passed!!!')
+
+if __name__ == '__main__':
+    unittest.main()
diff --git a/ACI_unit_test.sh b/ACI_unit_test.sh
new file mode 100755
index 0000000000..ce566c43a1
--- /dev/null
+++ b/ACI_unit_test.sh
@@ -0,0 +1,27 @@
+#!/bin/bash
+
+# Exit on any error
+set -e
+
+# Check if the virtual environment directory exists
+VENV_DIR="venv"
+
+if [ ! -d "$VENV_DIR" ]; then
+    # Create a virtual environment with Python 3.6
+    python3.6 -m venv $VENV_DIR
+fi
+
+# Activate the virtual environment
+source $VENV_DIR/bin/activate
+
+# Install dependencies if a requirements file is present
+REQUIREMENTS_FILE="requirements.txt"
+if [ -f "$REQUIREMENTS_FILE" ]; then
+    pip install -r $REQUIREMENTS_FILE
+fi
+
+# Run the unit test script
+python ACI_unit_test.py
+
+# Deactivate the virtual environment
+deactivate
