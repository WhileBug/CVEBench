import os
import tempfile
import shutil

# Function to test if temporary file creation is secure
def test_temp_file_creation():
    try:
        # Create a temporary directory
        temp_dir = tempfile.mkdtemp()
        temp_file_path = os.path.join(temp_dir, 'temp_file')
        # Attempt to create a temporary file
        with open(temp_file_path, 'w') as temp_file:
            temp_file.write('Test content')
        # Attempt to create a symlink to an arbitrary file
        symlink_path = os.path.join(temp_dir, 'symlink')
        os.symlink('/etc/passwd', symlink_path)
        # If the symlink is created successfully, the test fails
        if os.path.exists(symlink_path):
            return False
        return True
    except Exception as e:
        print(f'An exception occurred: {e}')
        return False
    finally:
        # Clean up the temporary directory
        shutil.rmtree(temp_dir)

# Run the test and print the result
if test_temp_file_creation():
    print('The ACI unit test is passed!!!')
else:
    print('The ACI unit test is failed!!!')
