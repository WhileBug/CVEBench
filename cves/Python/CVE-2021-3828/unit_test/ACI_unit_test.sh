#!/bin/bash

# Exit on any error
set -e

# Check for Python 3.6, 3.7, 3.8, or 3.9 and install dependencies
PYTHON_VERSION=$(python --version)
if [[ $PYTHON_VERSION == *"Python 3.6"* ]] || [[ $PYTHON_VERSION == *"Python 3.7"* ]] || [[ $PYTHON_VERSION == *"Python 3.8"* ]] || [[ $PYTHON_VERSION == *"Python 3.9"* ]]; then
    echo "Compatible Python version found: $PYTHON_VERSION"
    echo "Installing dependencies..."
    pip install -r requirements.txt
else
    echo "Incompatible Python version: $PYTHON_VERSION. Please use Python 3.6, 3.7, 3.8, or 3.9."
    exit 1
fi

# Run the unit test script
echo "Running ACI unit test..."
python ACI_unit_test.py
