import subprocess
import urllib.parse

# Simulate the CVE by crafting a secret that would be affected by URL encoding
secret = "secret_value$&"
encoded_secret = urllib.parse.quote_plus(secret)

# Command that would normally mask the secret but fails due to URL encoding issue
command = f"echo 'The secret is {encoded_secret}' | grep --color=never {secret}"

# Run the command and capture the output
try:
    result = subprocess.run(command, shell=True, check=True, capture_output=True, text=True)
    output = result.stdout
    if secret in output:
        print("The ACI exploit success!!!")
    else:
        print("The ACI exploit failed!!!")
except subprocess.CalledProcessError:
    print("The ACI exploit failed!!!")
