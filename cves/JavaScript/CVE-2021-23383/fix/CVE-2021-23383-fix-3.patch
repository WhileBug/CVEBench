
diff --git a/lib/handlebars/compiler/javascript-compiler.js b/lib/handlebars/compiler/javascript-compiler.js
index 63f90bd..411730a 100644
--- a/lib/handlebars/compiler/javascript-compiler.js
+++ b/lib/handlebars/compiler/javascript-compiler.js
@@ -15,9 +15,12 @@ JavaScriptCompiler.prototype = {
   nameLookup: function(parent, name /*,  type */) {
     return this.internalNameLookup(parent, name);
   },
-  depthedLookup: function(name) {
-    return [this.aliasable('container.lookup'), '(depths, "', name, '")'];
-  },
+    depthedLookup: function(name) {
+        if (name === '__proto__' || name === 'constructor' || name === 'prototype') {
+            return 'undefined';
+        }
+        return [this.aliasable('container.lookup'), '(depths, "', name, '")'];
+    },
 
   compilerInfo: function() {
     const revision = COMPILER_REVISION,
