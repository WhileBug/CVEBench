
diff --git a/server/Application/Api/Model/AttachmentModel.class.php b/server/Application/Api/Model/AttachmentModel.class.php
index 965db2e6..c24a6afd 100644
--- a/server/Application/Api/Model/AttachmentModel.class.php
+++ b/server/Application/Api/Model/AttachmentModel.class.php
@@ -55,7 +55,7 @@ class AttachmentModel extends BaseModel {
 
 	//上传文件，返回url
 	public function upload($_files , $file_key , $uid , $item_id = 0  , $page_id = 0  ){
-		$uploadFile = $_files[$file_key] ;
+        $uploadFile['name'] = htmlspecialchars($uploadFile['name'], ENT_QUOTES, 'UTF-8');
 
 		if( !$this->isAllowedFilename($_files[$file_key]['name']) ){
 			return false;
@@ -325,7 +325,7 @@ class AttachmentModel extends BaseModel {
 		$allow_array = array(
 			'.jpg','.jpeg','.png','.bmp','.gif','.ico','.webp',
 			'.mp3','.wav','.mp4',
-			'.mov','.webmv','.flac','.mkv',
+            '.mov','.webm','.flac','.mkv',
 			'.zip','.tar','.gz','.tgz','.ipa','.apk','.rar','.iso',
 			'.pdf','.ofd','.swf','.epub','.xps',
 			'.doc','.docx','.wps',
