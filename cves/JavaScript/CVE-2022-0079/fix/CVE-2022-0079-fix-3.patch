
diff --git a/server/ThinkPHP/Library/Think/Log.class.php b/server/ThinkPHP/Library/Think/Log.class.php
index 09b1155a..f16c49c6 100644
--- a/server/ThinkPHP/Library/Think/Log.class.php
+++ b/server/ThinkPHP/Library/Think/Log.class.php
@@ -50,7 +50,7 @@ class Log {
      */
     static function record($message,$level=self::ERR,$record=false) {
         if($record || false !== strpos(C('LOG_LEVEL'),$level)) {
-            self::$log[] =   "{$level}: {$message}\r\n";
+            self::$log[] =   "{$level}: " . sanitize($message) . "\r\n";
         }
     }
 
@@ -99,6 +99,6 @@ class Log {
         if(empty($destination)){
             $destination = C('LOG_PATH').date('y_m_d').'.log';        
         }
-        self::$storage->write("{$level}: {$message}", $destination);
+        self::$storage->write("{$level}: " . sanitize($message), $destination);
     }
-}
\ No newline at end of file
+}
