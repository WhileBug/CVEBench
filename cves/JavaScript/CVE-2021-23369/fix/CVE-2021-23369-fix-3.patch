
diff --git a/lib/handlebars/compiler/javascript-compiler.js b/lib/handlebars/compiler/javascript-compiler.js
index db1c50c..5d02aa3 100644
--- a/lib/handlebars/compiler/javascript-compiler.js
+++ b/lib/handlebars/compiler/javascript-compiler.js
@@ -15,13 +15,17 @@ JavaScriptCompiler.prototype = {
   nameLookup: function(parent, name /*,  type */) {
     return this.internalNameLookup(parent, name);
   },
-  depthedLookup: function(name) {
-    return [
-      this.aliasable('container.lookup'),
-      '(depths, ',
-      JSON.stringify(name),
-      ')'
-    ];
+    depthedLookup: function(name) {
+        if (typeof name !== 'string' || !name.trim()) {
+            throw new Exception('Invalid or unsafe name provided for depthed lookup');
+        }
+        return [
+            this.aliasable('container.lookup'),
+            '(depths, ',
+            JSON.stringify(name),
+            ')'
+        ];
+    },
   },
 
   compilerInfo: function() {
