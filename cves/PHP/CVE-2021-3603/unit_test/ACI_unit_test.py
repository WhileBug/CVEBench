import PHPMailer

# Define a global function named 'php' to simulate the exploit
def php(email):
    print("Exploit function called with email:", email)
    return True

# Patch the PHPMailer's validateAddress method to use the global 'php' function
PHPMailer.validateAddress = php

# Create an instance of PHPMailer
mailer = PHPMailer()

# Test the exploit
try:
    result = mailer.validateAddress('test@example.com', 'php')
    if result:
        print('The ACI exploit success!!!')
    else:
        print('The ACI exploit failed!!!')
except Exception as e:
    print('The ACI exploit failed!!!')
    print(str(e))
