
diff --git a/src/Symfony/Bundle/SecurityBundle/Tests/Functional/Bundle/RememberMeBundle/Security/UserChangingUserProvider.php b/src/Symfony/Bundle/SecurityBundle/Tests/Functional/Bundle/RememberMeBundle/Security/UserChangingUserProvider.php
index a5306b6bf1..f4cf93dcd0 100644
--- a/src/Symfony/Bundle/SecurityBundle/Tests/Functional/Bundle/RememberMeBundle/Security/UserChangingUserProvider.php
+++ b/src/Symfony/Bundle/SecurityBundle/Tests/Functional/Bundle/RememberMeBundle/Security/UserChangingUserProvider.php
@@ -38,11 +38,17 @@ class UserChangingUserProvider implements UserProviderInterface
 
     public function refreshUser(UserInterface $user)
     {
+        $originalPassword = $user->getPassword();
         $user = $this->inner->refreshUser($user);
 
         $alterUser = \Closure::bind(function (InMemoryUser $user) { $user->password = 'foo'; }, null, class_exists(User::class) ? User::class : InMemoryUser::class);
         $alterUser($user);
 
+        if ($originalPassword !== $user->getPassword()) {
+            // Example: Invalidate the remember me cookie
+            setcookie("REMEMBERME", "", time() - 3600);  // This sets the cookie expiration to one hour ago, effectively deleting it
+        }
+
         return $user;
     }
 
