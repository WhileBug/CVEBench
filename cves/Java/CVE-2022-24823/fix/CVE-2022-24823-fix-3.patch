
diff --git a/TestTmpDir.java b/TestTmpDir.java
new file mode 100644
index 0000000000..96f56e32a6
--- /dev/null
+++ b/TestTmpDir.java
@@ -0,0 +1,9 @@
+import io.netty.util.internal.PlatformDependent;
+import java.io.File;
+
+public class TestTmpDir {
+    public static void main(String[] args) {
+        File tmpDir = PlatformDependent.tmpdir();
+        System.out.println("Temporary Directory: " + tmpDir.getAbsolutePath());
+    }
+}
diff --git a/common/src/main/java/io/netty/util/internal/PlatformDependent.java b/common/src/main/java/io/netty/util/internal/PlatformDependent.java
index 8532046366..fd02ce9ed8 100644
--- a/common/src/main/java/io/netty/util/internal/PlatformDependent.java
+++ b/common/src/main/java/io/netty/util/internal/PlatformDependent.java
@@ -1284,11 +1284,14 @@ public final class PlatformDependent {
             // Environment variable inaccessible
         }
 
-        // Last resort.
         if (isWindows()) {
-            f = new File("C:\\Windows\\Temp");
+            f = new File(System.getProperty("user.home") + "\\AppData\\Local\\Temp\\Netty");
         } else {
-            f = new File("/tmp");
+            f = new File(System.getProperty("user.home") + "/.netty/tmp");
+        }
+        f.mkdirs();  // Ensure the directory is created
+        logger.warn("Failed to get the temporary directory; falling back to user-specific: {}", f);
+        return f;
         }
 
         logger.warn("Failed to get the temporary directory; falling back to: {}", f);
